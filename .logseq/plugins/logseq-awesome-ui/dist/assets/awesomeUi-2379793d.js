(function(){const D=document.createElement("link").relList;if(D&&D.supports&&D.supports("modulepreload"))return;for(const Y of document.querySelectorAll('link[rel="modulepreload"]'))me(Y);new MutationObserver(Y=>{for(const Se of Y)if(Se.type==="childList")for(const z of Se.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&me(z)}).observe(document,{childList:!0,subtree:!0});function ie(Y){const Se={};return Y.integrity&&(Se.integrity=Y.integrity),Y.referrerPolicy&&(Se.referrerPolicy=Y.referrerPolicy),Y.crossOrigin==="use-credentials"?Se.credentials="include":Y.crossOrigin==="anonymous"?Se.credentials="omit":Se.credentials="same-origin",Se}function me(Y){if(Y.ep)return;Y.ep=!0;const Se=ie(Y);fetch(Y.href,Se)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Nn.exports;(function(x,D){(function(ie,me){x.exports=me()})(self,()=>(()=>{var ie={227:(z,p,k)=>{var U=k(155);p.formatArgs=function(P){if(P[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+P[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),!this.useColors)return;const X="color: "+this.color;P.splice(1,0,X,"color: inherit");let b=0,h=0;P[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(b++,v==="%c"&&(h=b))}),P.splice(h,0,X)},p.save=function(P){try{P?p.storage.setItem("debug",P):p.storage.removeItem("debug")}catch{}},p.load=function(){let P;try{P=p.storage.getItem("debug")}catch{}return!P&&U!==void 0&&"env"in U&&(P=U.env.DEBUG),P},p.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let P=!1;return()=>{P||(P=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),z.exports=k(447)(p);const{formatters:A}=z.exports;A.j=function(P){try{return JSON.stringify(P)}catch(X){return"[UnexpectedJSONParseError]: "+X.message}}},447:(z,p,k)=>{z.exports=function(U){function A(b){let h,v,y,q=null;function L(...R){if(!L.enabled)return;const W=L,j=Number(new Date),M=j-(h||j);W.diff=M,W.prev=h,W.curr=j,h=j,R[0]=A.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let a=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(l,g)=>{if(l==="%%")return"%";a++;const C=A.formatters[g];if(typeof C=="function"){const V=R[a];l=C.call(W,V),R.splice(a,1),a--}return l}),A.formatArgs.call(W,R),(W.log||A.log).apply(W,R)}return L.namespace=b,L.useColors=A.useColors(),L.color=A.selectColor(b),L.extend=P,L.destroy=A.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>q!==null?q:(v!==A.namespaces&&(v=A.namespaces,y=A.enabled(b)),y),set:R=>{q=R}}),typeof A.init=="function"&&A.init(L),L}function P(b,h){const v=A(this.namespace+(h===void 0?":":h)+b);return v.log=this.log,v}function X(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return A.debug=A,A.default=A,A.coerce=function(b){return b instanceof Error?b.stack||b.message:b},A.disable=function(){const b=[...A.names.map(X),...A.skips.map(X).map(h=>"-"+h)].join(",");return A.enable(""),b},A.enable=function(b){let h;A.save(b),A.namespaces=b,A.names=[],A.skips=[];const v=(typeof b=="string"?b:"").split(/[\s,]+/),y=v.length;for(h=0;h<y;h++)v[h]&&((b=v[h].replace(/\*/g,".*?"))[0]==="-"?A.skips.push(new RegExp("^"+b.slice(1)+"$")):A.names.push(new RegExp("^"+b+"$")))},A.enabled=function(b){if(b[b.length-1]==="*")return!0;let h,v;for(h=0,v=A.skips.length;h<v;h++)if(A.skips[h].test(b))return!1;for(h=0,v=A.names.length;h<v;h++)if(A.names[h].test(b))return!0;return!1},A.humanize=k(824),A.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(U).forEach(b=>{A[b]=U[b]}),A.names=[],A.skips=[],A.formatters={},A.selectColor=function(b){let h=0;for(let v=0;v<b.length;v++)h=(h<<5)-h+b.charCodeAt(v),h|=0;return A.colors[Math.abs(h)%A.colors.length]},A.enable(A.load()),A}},856:function(z){z.exports=function(){function p(_){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},p(_)}function k(_,O){return k=Object.setPrototypeOf||function(B,K){return B.__proto__=K,B},k(_,O)}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(_,O,B){return A=U()?Reflect.construct:function(K,le,Fe){var Qe=[null];Qe.push.apply(Qe,le);var qe=new(Function.bind.apply(K,Qe));return Fe&&k(qe,Fe.prototype),qe},A.apply(null,arguments)}function P(_){return X(_)||b(_)||h(_)||y()}function X(_){if(Array.isArray(_))return v(_)}function b(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function h(_,O){if(_){if(typeof _=="string")return v(_,O);var B=Object.prototype.toString.call(_).slice(8,-1);return B==="Object"&&_.constructor&&(B=_.constructor.name),B==="Map"||B==="Set"?Array.from(_):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?v(_,O):void 0}}function v(_,O){(O==null||O>_.length)&&(O=_.length);for(var B=0,K=new Array(O);B<O;B++)K[B]=_[B];return K}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q=Object.hasOwnProperty,L=Object.setPrototypeOf,R=Object.isFrozen,W=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,M=Object.freeze,a=Object.seal,l=Object.create,g=typeof Reflect<"u"&&Reflect,C=g.apply,V=g.construct;C||(C=function(_,O,B){return _.apply(O,B)}),M||(M=function(_){return _}),a||(a=function(_){return _}),V||(V=function(_,O){return A(_,P(O))});var ee=ne(Array.prototype.forEach),ae=ne(Array.prototype.pop),be=ne(Array.prototype.push),Ce=ne(String.prototype.toLowerCase),ke=ne(String.prototype.match),he=ne(String.prototype.replace),Pe=ne(String.prototype.indexOf),d=ne(String.prototype.trim),m=ne(RegExp.prototype.test),N=Ae(TypeError);function ne(_){return function(O){for(var B=arguments.length,K=new Array(B>1?B-1:0),le=1;le<B;le++)K[le-1]=arguments[le];return C(_,O,K)}}function Ae(_){return function(){for(var O=arguments.length,B=new Array(O),K=0;K<O;K++)B[K]=arguments[K];return V(_,B)}}function F(_,O){L&&L(_,null);for(var B=O.length;B--;){var K=O[B];if(typeof K=="string"){var le=Ce(K);le!==K&&(R(O)||(O[B]=le),K=le)}_[K]=!0}return _}function J(_){var O,B=l(null);for(O in _)C(q,_,[O])&&(B[O]=_[O]);return B}function ue(_,O){for(;_!==null;){var B=j(_,O);if(B){if(B.get)return ne(B.get);if(typeof B.value=="function")return ne(B.value)}_=W(_)}function K(le){return console.warn("fallback value for",le),null}return K}var Ee=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),He=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ot=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fe=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),de=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Te=M(["#text"]),je=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ue=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Me=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Re=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nt=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kt=a(/<%[\w\W]*|[\w\W]*%>/gm),qn=a(/^data-[\-\w.\u00B7-\uFFFF]/),Rn=a(/^aria-[\-\w]+$/),Dn=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zn=a(/^(?:\w+script|data):/i),it=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),un=a(/^html$/i),$n=function(){return typeof window>"u"?null:window},Bn=function(_,O){if(p(_)!=="object"||typeof _.createPolicy!="function")return null;var B=null,K="data-tt-policy-suffix";O.currentScript&&O.currentScript.hasAttribute(K)&&(B=O.currentScript.getAttribute(K));var le="dompurify"+(B?"#"+B:"");try{return _.createPolicy(le,{createHTML:function(Fe){return Fe}})}catch{return console.warn("TrustedTypes policy "+le+" could not be created."),null}};function ht(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$n(),O=function(o){return ht(o)};if(O.version="2.3.8",O.removed=[],!_||!_.document||_.document.nodeType!==9)return O.isSupported=!1,O;var B=_.document,K=_.document,le=_.DocumentFragment,Fe=_.HTMLTemplateElement,Qe=_.Node,qe=_.Element,Xe=_.NodeFilter,ft=_.NamedNodeMap,At=ft===void 0?_.NamedNodeMap||_.MozNamedAttrMap:ft,Ft=_.HTMLFormElement,dn=_.DOMParser,pn=_.trustedTypes,gt=qe.prototype,hn=ue(gt,"cloneNode"),fn=ue(gt,"nextSibling"),Hn=ue(gt,"childNodes"),at=ue(gt,"parentNode");if(typeof Fe=="function"){var qt=K.createElement("template");qt.content&&qt.content.ownerDocument&&(K=qt.content.ownerDocument)}var We=Bn(pn,B),gn=We?We.createHTML(""):"",mt=K,Rt=mt.implementation,mn=mt.createNodeIterator,bn=mt.createDocumentFragment,Wn=mt.getElementsByTagName,Dt=B.importNode,vn={};try{vn=J(K).documentMode?K.documentMode:{}}catch{}var we={};O.isSupported=typeof at=="function"&&Rt&&Rt.createHTMLDocument!==void 0&&vn!==9;var st,Ge,zt=Nt,$t=kt,Ot=qn,Le=Rn,Bt=zn,bt=it,Ht=Dn,ve=null,Wt=F({},[].concat(P(Ee),P(Oe),P(He),P(fe),P(Te))),ye=null,Gt=F({},[].concat(P(je),P(Ue),P(Me),P(Re))),ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vt=null,Vt=null,Jt=!0,Zt=!0,yn=!1,lt=!1,te=!1,Kt=!1,Yt=!1,et=!1,Ve=!1,ct=!1,Qt=!0,Tt=!0,tt=!1,Je={},ut=null,wn=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_n=null,xn=F({},["audio","video","img","source","image","track"]),Xt=null,jt=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),en="http://www.w3.org/1998/Math/MathML",Et="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml",It=Ze,Sn=!1,Cn=["application/xhtml+xml","text/html"],Gn="text/html",dt=null,Vn=K.createElement("form"),Ut=function(o){return o instanceof RegExp||o instanceof Function},tn=function(o){dt&&dt===o||(o&&p(o)==="object"||(o={}),o=J(o),ve="ALLOWED_TAGS"in o?F({},o.ALLOWED_TAGS):Wt,ye="ALLOWED_ATTR"in o?F({},o.ALLOWED_ATTR):Gt,Xt="ADD_URI_SAFE_ATTR"in o?F(J(jt),o.ADD_URI_SAFE_ATTR):jt,_n="ADD_DATA_URI_TAGS"in o?F(J(xn),o.ADD_DATA_URI_TAGS):xn,ut="FORBID_CONTENTS"in o?F({},o.FORBID_CONTENTS):wn,vt="FORBID_TAGS"in o?F({},o.FORBID_TAGS):{},Vt="FORBID_ATTR"in o?F({},o.FORBID_ATTR):{},Je="USE_PROFILES"in o&&o.USE_PROFILES,Jt=o.ALLOW_ARIA_ATTR!==!1,Zt=o.ALLOW_DATA_ATTR!==!1,yn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,lt=o.SAFE_FOR_TEMPLATES||!1,te=o.WHOLE_DOCUMENT||!1,et=o.RETURN_DOM||!1,Ve=o.RETURN_DOM_FRAGMENT||!1,ct=o.RETURN_TRUSTED_TYPE||!1,Yt=o.FORCE_BODY||!1,Qt=o.SANITIZE_DOM!==!1,Tt=o.KEEP_CONTENT!==!1,tt=o.IN_PLACE||!1,Ht=o.ALLOWED_URI_REGEXP||Ht,It=o.NAMESPACE||Ze,o.CUSTOM_ELEMENT_HANDLING&&Ut(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Ut(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),st=st=Cn.indexOf(o.PARSER_MEDIA_TYPE)===-1?Gn:o.PARSER_MEDIA_TYPE,Ge=st==="application/xhtml+xml"?function(S){return S}:Ce,lt&&(Zt=!1),Ve&&(et=!0),Je&&(ve=F({},P(Te)),ye=[],Je.html===!0&&(F(ve,Ee),F(ye,je)),Je.svg===!0&&(F(ve,Oe),F(ye,Ue),F(ye,Re)),Je.svgFilters===!0&&(F(ve,He),F(ye,Ue),F(ye,Re)),Je.mathMl===!0&&(F(ve,fe),F(ye,Me),F(ye,Re))),o.ADD_TAGS&&(ve===Wt&&(ve=J(ve)),F(ve,o.ADD_TAGS)),o.ADD_ATTR&&(ye===Gt&&(ye=J(ye)),F(ye,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&F(Xt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(ut===wn&&(ut=J(ut)),F(ut,o.FORBID_CONTENTS)),Tt&&(ve["#text"]=!0),te&&F(ve,["html","head","body"]),ve.table&&(F(ve,["tbody"]),delete vt.tbody),M&&M(o),dt=o)},nn=F({},["mi","mo","mn","ms","mtext"]),kn=F({},["foreignobject","desc","title","annotation-xml"]),Jn=F({},["title","style","font","a","script"]),Lt=F({},Oe);F(Lt,He),F(Lt,ot);var rn=F({},fe);F(rn,de);var Zn=function(o){var S=at(o);S&&S.tagName||(S={namespaceURI:Ze,tagName:"template"});var w=Ce(o.tagName),re=Ce(S.tagName);return o.namespaceURI===Et?S.namespaceURI===Ze?w==="svg":S.namespaceURI===en?w==="svg"&&(re==="annotation-xml"||nn[re]):!!Lt[w]:o.namespaceURI===en?S.namespaceURI===Ze?w==="math":S.namespaceURI===Et?w==="math"&&kn[re]:!!rn[w]:o.namespaceURI===Ze&&!(S.namespaceURI===Et&&!kn[re])&&!(S.namespaceURI===en&&!nn[re])&&!rn[w]&&(Jn[w]||!Lt[w])},De=function(o){be(O.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=gn}catch{o.remove()}}},An=function(o,S){try{be(O.removed,{attribute:S.getAttributeNode(o),from:S})}catch{be(O.removed,{attribute:null,from:S})}if(S.removeAttribute(o),o==="is"&&!ye[o])if(et||Ve)try{De(S)}catch{}else try{S.setAttribute(o,"")}catch{}},On=function(o){var S,w;if(Yt)o="<remove></remove>"+o;else{var re=ke(o,/^[\r\n\t ]+/);w=re&&re[0]}st==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var pe=We?We.createHTML(o):o;if(It===Ze)try{S=new dn().parseFromString(pe,st)}catch{}if(!S||!S.documentElement){S=Rt.createDocument(It,"template",null);try{S.documentElement.innerHTML=Sn?"":pe}catch{}}var _e=S.body||S.documentElement;return o&&w&&_e.insertBefore(K.createTextNode(w),_e.childNodes[0]||null),It===Ze?Wn.call(S,te?"html":"body")[0]:te?S.documentElement:_e},yt=function(o){return mn.call(o.ownerDocument||o,o,Xe.SHOW_ELEMENT|Xe.SHOW_COMMENT|Xe.SHOW_TEXT,null,!1)},Kn=function(o){return o instanceof Ft&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof At)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},wt=function(o){return p(Qe)==="object"?o instanceof Qe:o&&p(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},ze=function(o,S,w){we[o]&&ee(we[o],function(re){re.call(O,S,w,dt)})},on=function(o){var S;if(ze("beforeSanitizeElements",o,null),Kn(o)||m(/[\u0080-\uFFFF]/,o.nodeName))return De(o),!0;var w=Ge(o.nodeName);if(ze("uponSanitizeElement",o,{tagName:w,allowedTags:ve}),o.hasChildNodes()&&!wt(o.firstElementChild)&&(!wt(o.content)||!wt(o.content.firstElementChild))&&m(/<[/\w]/g,o.innerHTML)&&m(/<[/\w]/g,o.textContent)||w==="select"&&m(/<template/i,o.innerHTML))return De(o),!0;if(!ve[w]||vt[w]){if(!vt[w]&&an(w)&&(ce.tagNameCheck instanceof RegExp&&m(ce.tagNameCheck,w)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(w)))return!1;if(Tt&&!ut[w]){var re=at(o)||o.parentNode,pe=Hn(o)||o.childNodes;if(pe&&re)for(var _e=pe.length-1;_e>=0;--_e)re.insertBefore(hn(pe[_e],!0),fn(o))}return De(o),!0}return o instanceof qe&&!Zn(o)?(De(o),!0):w!=="noscript"&&w!=="noembed"||!m(/<\/no(script|embed)/i,o.innerHTML)?(lt&&o.nodeType===3&&(S=o.textContent,S=he(S,zt," "),S=he(S,$t," "),o.textContent!==S&&(be(O.removed,{element:o.cloneNode()}),o.textContent=S)),ze("afterSanitizeElements",o,null),!1):(De(o),!0)},Tn=function(o,S,w){if(Qt&&(S==="id"||S==="name")&&(w in K||w in Vn))return!1;if(!(Zt&&!Vt[S]&&m(Ot,S))){if(!(Jt&&m(Le,S))){if(!ye[S]||Vt[S]){if(!(an(o)&&(ce.tagNameCheck instanceof RegExp&&m(ce.tagNameCheck,o)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(o))&&(ce.attributeNameCheck instanceof RegExp&&m(ce.attributeNameCheck,S)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(S))||S==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&m(ce.tagNameCheck,w)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(w))))return!1}else if(!Xt[S]){if(!m(Ht,he(w,bt,""))){if((S!=="src"&&S!=="xlink:href"&&S!=="href"||o==="script"||Pe(w,"data:")!==0||!_n[o])&&!(yn&&!m(Bt,he(w,bt,"")))){if(w)return!1}}}}}return!0},an=function(o){return o.indexOf("-")>0},_t=function(o){var S,w,re,pe;ze("beforeSanitizeAttributes",o,null);var _e=o.attributes;if(_e){var xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(pe=_e.length;pe--;){var xt=S=_e[pe],$e=xt.name,Q=xt.namespaceURI;if(w=$e==="value"?S.value:d(S.value),re=Ge($e),xe.attrName=re,xe.attrValue=w,xe.keepAttr=!0,xe.forceKeepAttr=void 0,ze("uponSanitizeAttribute",o,xe),w=xe.attrValue,!xe.forceKeepAttr&&(An($e,o),xe.keepAttr))if(m(/\/>/i,w))An($e,o);else{lt&&(w=he(w,zt," "),w=he(w,$t," "));var nt=Ge(o.nodeName);if(Tn(nt,re,w))try{Q?o.setAttributeNS(Q,$e,w):o.setAttribute($e,w),ae(O.removed)}catch{}}}ze("afterSanitizeAttributes",o,null)}},sn=function o(S){var w,re=yt(S);for(ze("beforeSanitizeShadowDOM",S,null);w=re.nextNode();)ze("uponSanitizeShadowNode",w,null),on(w)||(w.content instanceof le&&o(w.content),_t(w));ze("afterSanitizeShadowDOM",S,null)};return O.sanitize=function(o,S){var w,re,pe,_e,xe;if((Sn=!o)&&(o="<!-->"),typeof o!="string"&&!wt(o)){if(typeof o.toString!="function")throw N("toString is not a function");if(typeof(o=o.toString())!="string")throw N("dirty is not a string, aborting")}if(!O.isSupported){if(p(_.toStaticHTML)==="object"||typeof _.toStaticHTML=="function"){if(typeof o=="string")return _.toStaticHTML(o);if(wt(o))return _.toStaticHTML(o.outerHTML)}return o}if(Kt||tn(S),O.removed=[],typeof o=="string"&&(tt=!1),tt){if(o.nodeName){var xt=Ge(o.nodeName);if(!ve[xt]||vt[xt])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Qe)(re=(w=On("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&re.nodeName==="BODY"||re.nodeName==="HTML"?w=re:w.appendChild(re);else{if(!et&&!lt&&!te&&o.indexOf("<")===-1)return We&&ct?We.createHTML(o):o;if(!(w=On(o)))return et?null:ct?gn:""}w&&Yt&&De(w.firstChild);for(var $e=yt(tt?o:w);pe=$e.nextNode();)pe.nodeType===3&&pe===_e||on(pe)||(pe.content instanceof le&&sn(pe.content),_t(pe),_e=pe);if(_e=null,tt)return o;if(et){if(Ve)for(xe=bn.call(w.ownerDocument);w.firstChild;)xe.appendChild(w.firstChild);else xe=w;return ye.shadowroot&&(xe=Dt.call(B,xe,!0)),xe}var Q=te?w.outerHTML:w.innerHTML;return te&&ve["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&m(un,w.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+Q),lt&&(Q=he(Q,zt," "),Q=he(Q,$t," ")),We&&ct?We.createHTML(Q):Q},O.setConfig=function(o){tn(o),Kt=!0},O.clearConfig=function(){dt=null,Kt=!1},O.isValidAttribute=function(o,S,w){dt||tn({});var re=Ge(o),pe=Ge(S);return Tn(re,pe,w)},O.addHook=function(o,S){typeof S=="function"&&(we[o]=we[o]||[],be(we[o],S))},O.removeHook=function(o){if(we[o])return ae(we[o])},O.removeHooks=function(o){we[o]&&(we[o]=[])},O.removeAllHooks=function(){we={}},O}return ht()}()},729:z=>{var p=Object.prototype.hasOwnProperty,k="~";function U(){}function A(h,v,y){this.fn=h,this.context=v,this.once=y||!1}function P(h,v,y,q,L){if(typeof y!="function")throw new TypeError("The listener must be a function");var R=new A(y,q||h,L),W=k?k+v:v;return h._events[W]?h._events[W].fn?h._events[W]=[h._events[W],R]:h._events[W].push(R):(h._events[W]=R,h._eventsCount++),h}function X(h,v){--h._eventsCount==0?h._events=new U:delete h._events[v]}function b(){this._events=new U,this._eventsCount=0}Object.create&&(U.prototype=Object.create(null),new U().__proto__||(k=!1)),b.prototype.eventNames=function(){var h,v,y=[];if(this._eventsCount===0)return y;for(v in h=this._events)p.call(h,v)&&y.push(k?v.slice(1):v);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(h)):y},b.prototype.listeners=function(h){var v=k?k+h:h,y=this._events[v];if(!y)return[];if(y.fn)return[y.fn];for(var q=0,L=y.length,R=new Array(L);q<L;q++)R[q]=y[q].fn;return R},b.prototype.listenerCount=function(h){var v=k?k+h:h,y=this._events[v];return y?y.fn?1:y.length:0},b.prototype.emit=function(h,v,y,q,L,R){var W=k?k+h:h;if(!this._events[W])return!1;var j,M,a=this._events[W],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(h,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,v),!0;case 3:return a.fn.call(a.context,v,y),!0;case 4:return a.fn.call(a.context,v,y,q),!0;case 5:return a.fn.call(a.context,v,y,q,L),!0;case 6:return a.fn.call(a.context,v,y,q,L,R),!0}for(M=1,j=new Array(l-1);M<l;M++)j[M-1]=arguments[M];a.fn.apply(a.context,j)}else{var g,C=a.length;for(M=0;M<C;M++)switch(a[M].once&&this.removeListener(h,a[M].fn,void 0,!0),l){case 1:a[M].fn.call(a[M].context);break;case 2:a[M].fn.call(a[M].context,v);break;case 3:a[M].fn.call(a[M].context,v,y);break;case 4:a[M].fn.call(a[M].context,v,y,q);break;default:if(!j)for(g=1,j=new Array(l-1);g<l;g++)j[g-1]=arguments[g];a[M].fn.apply(a[M].context,j)}}return!0},b.prototype.on=function(h,v,y){return P(this,h,v,y,!1)},b.prototype.once=function(h,v,y){return P(this,h,v,y,!0)},b.prototype.removeListener=function(h,v,y,q){var L=k?k+h:h;if(!this._events[L])return this;if(!v)return X(this,L),this;var R=this._events[L];if(R.fn)R.fn!==v||q&&!R.once||y&&R.context!==y||X(this,L);else{for(var W=0,j=[],M=R.length;W<M;W++)(R[W].fn!==v||q&&!R[W].once||y&&R[W].context!==y)&&j.push(R[W]);j.length?this._events[L]=j.length===1?j[0]:j:X(this,L)}return this},b.prototype.removeAllListeners=function(h){var v;return h?(v=k?k+h:h,this._events[v]&&X(this,v)):(this._events=new U,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=k,b.EventEmitter=b,z.exports=b},717:z=>{typeof Object.create=="function"?z.exports=function(p,k){p.super_=k,p.prototype=Object.create(k.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:z.exports=function(p,k){p.super_=k;var U=function(){};U.prototype=k.prototype,p.prototype=new U,p.prototype.constructor=p}},824:z=>{var p=1e3,k=60*p,U=60*k,A=24*U,P=7*A,X=365.25*A;function b(h,v,y,q){var L=v>=1.5*y;return Math.round(h/y)+" "+q+(L?"s":"")}z.exports=function(h,v){v=v||{};var y=typeof h;if(y==="string"&&h.length>0)return function(q){if(!((q=String(q)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(q);if(L){var R=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return R*X;case"weeks":case"week":case"w":return R*P;case"days":case"day":case"d":return R*A;case"hours":case"hour":case"hrs":case"hr":case"h":return R*U;case"minutes":case"minute":case"mins":case"min":case"m":return R*k;case"seconds":case"second":case"secs":case"sec":case"s":return R*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}(h);if(y==="number"&&isFinite(h))return v.long?function(q){var L=Math.abs(q);return L>=A?b(q,L,A,"day"):L>=U?b(q,L,U,"hour"):L>=k?b(q,L,k,"minute"):L>=p?b(q,L,p,"second"):q+" ms"}(h):function(q){var L=Math.abs(q);return L>=A?Math.round(q/A)+"d":L>=U?Math.round(q/U)+"h":L>=k?Math.round(q/k)+"m":L>=p?Math.round(q/p)+"s":q+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},520:(z,p,k)=>{var U=k(155),A=U.platform==="win32",P=k(539);function X(a,l){for(var g=[],C=0;C<a.length;C++){var V=a[C];V&&V!=="."&&(V===".."?g.length&&g[g.length-1]!==".."?g.pop():l&&g.push(".."):g.push(V))}return g}function b(a){for(var l=a.length-1,g=0;g<=l&&!a[g];g++);for(var C=l;C>=0&&!a[C];C--);return g===0&&C===l?a:g>C?[]:a.slice(g,C+1)}var h=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,v=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function q(a){var l=h.exec(a),g=(l[1]||"")+(l[2]||""),C=l[3]||"",V=v.exec(C);return[g,V[1],V[2],V[3]]}function L(a){var l=h.exec(a),g=l[1]||"",C=!!g&&g[1]!==":";return{device:g,isUnc:C,isAbsolute:C||!!l[2],tail:l[3]}}function R(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var a="",l="",g=!1,C=arguments.length-1;C>=-1;C--){var V;if(C>=0?V=arguments[C]:a?(V=U.env["="+a])&&V.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(V=a+"\\"):V=U.cwd(),!P.isString(V))throw new TypeError("Arguments to path.resolve must be strings");if(V){var ee=L(V),ae=ee.device,be=ee.isUnc,Ce=ee.isAbsolute,ke=ee.tail;if((!ae||!a||ae.toLowerCase()===a.toLowerCase())&&(a||(a=ae),g||(l=ke+"\\"+l,g=Ce),a&&g))break}}return be&&(a=R(a)),a+(g?"\\":"")+(l=X(l.split(/[\\\/]+/),!g).join("\\"))||"."},y.normalize=function(a){var l=L(a),g=l.device,C=l.isUnc,V=l.isAbsolute,ee=l.tail,ae=/[\\\/]$/.test(ee);return(ee=X(ee.split(/[\\\/]+/),!V).join("\\"))||V||(ee="."),ee&&ae&&(ee+="\\"),C&&(g=R(g)),g+(V?"\\":"")+ee},y.isAbsolute=function(a){return L(a).isAbsolute},y.join=function(){for(var a=[],l=0;l<arguments.length;l++){var g=arguments[l];if(!P.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&a.push(g)}var C=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(C=C.replace(/^[\\\/]{2,}/,"\\")),y.normalize(C)},y.relative=function(a,l){a=y.resolve(a),l=y.resolve(l);for(var g=a.toLowerCase(),C=l.toLowerCase(),V=b(l.split("\\")),ee=b(g.split("\\")),ae=b(C.split("\\")),be=Math.min(ee.length,ae.length),Ce=be,ke=0;ke<be;ke++)if(ee[ke]!==ae[ke]){Ce=ke;break}if(Ce==0)return l;var he=[];for(ke=Ce;ke<ee.length;ke++)he.push("..");return(he=he.concat(V.slice(Ce))).join("\\")},y._makeLong=function(a){if(!P.isString(a))return a;if(!a)return"";var l=y.resolve(a);return/^[a-zA-Z]\:\\/.test(l)?"\\\\?\\"+l:/^\\\\[^?.]/.test(l)?"\\\\?\\UNC\\"+l.substring(2):a},y.dirname=function(a){var l=q(a),g=l[0],C=l[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},y.basename=function(a,l){var g=q(a)[2];return l&&g.substr(-1*l.length)===l&&(g=g.substr(0,g.length-l.length)),g},y.extname=function(a){return q(a)[3]},y.format=function(a){if(!P.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!P.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var g=a.dir,C=a.base||"";return g?g[g.length-1]===y.sep?g+C:g+y.sep+C:C},y.parse=function(a){if(!P.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=q(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},y.sep="\\",y.delimiter=";";var W=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,j={};function M(a){return W.exec(a).slice(1)}j.resolve=function(){for(var a="",l=!1,g=arguments.length-1;g>=-1&&!l;g--){var C=g>=0?arguments[g]:U.cwd();if(!P.isString(C))throw new TypeError("Arguments to path.resolve must be strings");C&&(a=C+"/"+a,l=C[0]==="/")}return(l?"/":"")+(a=X(a.split("/"),!l).join("/"))||"."},j.normalize=function(a){var l=j.isAbsolute(a),g=a&&a[a.length-1]==="/";return(a=X(a.split("/"),!l).join("/"))||l||(a="."),a&&g&&(a+="/"),(l?"/":"")+a},j.isAbsolute=function(a){return a.charAt(0)==="/"},j.join=function(){for(var a="",l=0;l<arguments.length;l++){var g=arguments[l];if(!P.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&(a+=a?"/"+g:g)}return j.normalize(a)},j.relative=function(a,l){a=j.resolve(a).substr(1),l=j.resolve(l).substr(1);for(var g=b(a.split("/")),C=b(l.split("/")),V=Math.min(g.length,C.length),ee=V,ae=0;ae<V;ae++)if(g[ae]!==C[ae]){ee=ae;break}var be=[];for(ae=ee;ae<g.length;ae++)be.push("..");return(be=be.concat(C.slice(ee))).join("/")},j._makeLong=function(a){return a},j.dirname=function(a){var l=M(a),g=l[0],C=l[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},j.basename=function(a,l){var g=M(a)[2];return l&&g.substr(-1*l.length)===l&&(g=g.substr(0,g.length-l.length)),g},j.extname=function(a){return M(a)[3]},j.format=function(a){if(!P.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!P.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+j.sep:"")+(a.base||"")},j.parse=function(a){if(!P.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=M(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return l[1]=l[1]||"",l[2]=l[2]||"",l[3]=l[3]||"",{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},j.sep="/",j.delimiter=":",z.exports=A?y:j,z.exports.posix=j,z.exports.win32=y},155:z=>{var p,k,U=z.exports={};function A(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}function X(j){if(p===setTimeout)return setTimeout(j,0);if((p===A||!p)&&setTimeout)return p=setTimeout,setTimeout(j,0);try{return p(j,0)}catch{try{return p.call(null,j,0)}catch{return p.call(this,j,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:A}catch{p=A}try{k=typeof clearTimeout=="function"?clearTimeout:P}catch{k=P}})();var b,h=[],v=!1,y=-1;function q(){v&&b&&(v=!1,b.length?h=b.concat(h):y=-1,h.length&&L())}function L(){if(!v){var j=X(q);v=!0;for(var M=h.length;M;){for(b=h,h=[];++y<M;)b&&b[y].run();y=-1,M=h.length}b=null,v=!1,function(a){if(k===clearTimeout)return clearTimeout(a);if((k===P||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch{try{return k.call(null,a)}catch{return k.call(this,a)}}}(j)}}function R(j,M){this.fun=j,this.array=M}function W(){}U.nextTick=function(j){var M=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)M[a-1]=arguments[a];h.push(new R(j,M)),h.length!==1||v||X(L)},R.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={},U.on=W,U.addListener=W,U.once=W,U.off=W,U.removeListener=W,U.removeAllListeners=W,U.emit=W,U.prependListener=W,U.prependOnceListener=W,U.listeners=function(j){return[]},U.binding=function(j){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(j){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},384:z=>{z.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(z,p,k)=>{var U=k(155),A=/%[sdj%]/g;p.format=function(d){if(!a(d)){for(var m=[],N=0;N<arguments.length;N++)m.push(b(arguments[N]));return m.join(" ")}N=1;for(var ne=arguments,Ae=ne.length,F=String(d).replace(A,function(ue){if(ue==="%%")return"%";if(N>=Ae)return ue;switch(ue){case"%s":return String(ne[N++]);case"%d":return Number(ne[N++]);case"%j":try{return JSON.stringify(ne[N++])}catch{return"[Circular]"}default:return ue}}),J=ne[N];N<Ae;J=ne[++N])j(J)||!C(J)?F+=" "+J:F+=" "+b(J);return F},p.deprecate=function(d,m){if(l(k.g.process))return function(){return p.deprecate(d,m).apply(this,arguments)};if(U.noDeprecation===!0)return d;var N=!1;return function(){if(!N){if(U.throwDeprecation)throw new Error(m);U.traceDeprecation?console.trace(m):console.error(m),N=!0}return d.apply(this,arguments)}};var P,X={};function b(d,m){var N={seen:[],stylize:v};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),W(m)?N.showHidden=m:m&&p._extend(N,m),l(N.showHidden)&&(N.showHidden=!1),l(N.depth)&&(N.depth=2),l(N.colors)&&(N.colors=!1),l(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=h),y(N,d,N.depth)}function h(d,m){var N=b.styles[m];return N?"\x1B["+b.colors[N][0]+"m"+d+"\x1B["+b.colors[N][1]+"m":d}function v(d,m){return d}function y(d,m,N){if(d.customInspect&&m&&ae(m.inspect)&&m.inspect!==p.inspect&&(!m.constructor||m.constructor.prototype!==m)){var ne=m.inspect(N,d);return a(ne)||(ne=y(d,ne,N)),ne}var Ae=function(fe,de){if(l(de))return fe.stylize("undefined","undefined");if(a(de)){var Te="'"+JSON.stringify(de).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return fe.stylize(Te,"string")}if(M(de))return fe.stylize(""+de,"number");if(W(de))return fe.stylize(""+de,"boolean");if(j(de))return fe.stylize("null","null")}(d,m);if(Ae)return Ae;var F=Object.keys(m),J=function(fe){var de={};return fe.forEach(function(Te,je){de[Te]=!0}),de}(F);if(d.showHidden&&(F=Object.getOwnPropertyNames(m)),ee(m)&&(F.indexOf("message")>=0||F.indexOf("description")>=0))return q(m);if(F.length===0){if(ae(m)){var ue=m.name?": "+m.name:"";return d.stylize("[Function"+ue+"]","special")}if(g(m))return d.stylize(RegExp.prototype.toString.call(m),"regexp");if(V(m))return d.stylize(Date.prototype.toString.call(m),"date");if(ee(m))return q(m)}var Ee,Oe="",He=!1,ot=["{","}"];return R(m)&&(He=!0,ot=["[","]"]),ae(m)&&(Oe=" [Function"+(m.name?": "+m.name:"")+"]"),g(m)&&(Oe=" "+RegExp.prototype.toString.call(m)),V(m)&&(Oe=" "+Date.prototype.toUTCString.call(m)),ee(m)&&(Oe=" "+q(m)),F.length!==0||He&&m.length!=0?N<0?g(m)?d.stylize(RegExp.prototype.toString.call(m),"regexp"):d.stylize("[Object]","special"):(d.seen.push(m),Ee=He?function(fe,de,Te,je,Ue){for(var Me=[],Re=0,Nt=de.length;Re<Nt;++Re)Pe(de,String(Re))?Me.push(L(fe,de,Te,je,String(Re),!0)):Me.push("");return Ue.forEach(function(kt){kt.match(/^\d+$/)||Me.push(L(fe,de,Te,je,kt,!0))}),Me}(d,m,N,J,F):F.map(function(fe){return L(d,m,N,J,fe,He)}),d.seen.pop(),function(fe,de,Te){return fe.reduce(function(je,Ue){return Ue.indexOf(`
`)>=0,je+Ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Te[0]+(de===""?"":de+`
 `)+" "+fe.join(`,
  `)+" "+Te[1]:Te[0]+de+" "+fe.join(", ")+" "+Te[1]}(Ee,Oe,ot)):ot[0]+Oe+ot[1]}function q(d){return"["+Error.prototype.toString.call(d)+"]"}function L(d,m,N,ne,Ae,F){var J,ue,Ee;if((Ee=Object.getOwnPropertyDescriptor(m,Ae)||{value:m[Ae]}).get?ue=Ee.set?d.stylize("[Getter/Setter]","special"):d.stylize("[Getter]","special"):Ee.set&&(ue=d.stylize("[Setter]","special")),Pe(ne,Ae)||(J="["+Ae+"]"),ue||(d.seen.indexOf(Ee.value)<0?(ue=j(N)?y(d,Ee.value,null):y(d,Ee.value,N-1)).indexOf(`
`)>-1&&(ue=F?ue.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).substr(2):`
`+ue.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`)):ue=d.stylize("[Circular]","special")),l(J)){if(F&&Ae.match(/^\d+$/))return ue;(J=JSON.stringify(""+Ae)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=d.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=d.stylize(J,"string"))}return J+": "+ue}function R(d){return Array.isArray(d)}function W(d){return typeof d=="boolean"}function j(d){return d===null}function M(d){return typeof d=="number"}function a(d){return typeof d=="string"}function l(d){return d===void 0}function g(d){return C(d)&&be(d)==="[object RegExp]"}function C(d){return typeof d=="object"&&d!==null}function V(d){return C(d)&&be(d)==="[object Date]"}function ee(d){return C(d)&&(be(d)==="[object Error]"||d instanceof Error)}function ae(d){return typeof d=="function"}function be(d){return Object.prototype.toString.call(d)}function Ce(d){return d<10?"0"+d.toString(10):d.toString(10)}p.debuglog=function(d){if(l(P)&&(P=U.env.NODE_DEBUG||""),d=d.toUpperCase(),!X[d])if(new RegExp("\\b"+d+"\\b","i").test(P)){var m=U.pid;X[d]=function(){var N=p.format.apply(p,arguments);console.error("%s %d: %s",d,m,N)}}else X[d]=function(){};return X[d]},p.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=R,p.isBoolean=W,p.isNull=j,p.isNullOrUndefined=function(d){return d==null},p.isNumber=M,p.isString=a,p.isSymbol=function(d){return typeof d=="symbol"},p.isUndefined=l,p.isRegExp=g,p.isObject=C,p.isDate=V,p.isError=ee,p.isFunction=ae,p.isPrimitive=function(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||d===void 0},p.isBuffer=k(384);var ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var d=new Date,m=[Ce(d.getHours()),Ce(d.getMinutes()),Ce(d.getSeconds())].join(":");return[d.getDate(),ke[d.getMonth()],m].join(" ")}function Pe(d,m){return Object.prototype.hasOwnProperty.call(d,m)}p.log=function(){console.log("%s - %s",he(),p.format.apply(p,arguments))},p.inherits=k(717),p._extend=function(d,m){if(!m||!C(m))return d;for(var N=Object.keys(m),ne=N.length;ne--;)d[N[ne]]=m[N[ne]];return d}}},me={};function Y(z){var p=me[z];if(p!==void 0)return p.exports;var k=me[z]={exports:{}};return ie[z].call(k.exports,k,k.exports,Y),k.exports}Y.n=z=>{var p=z&&z.__esModule?()=>z.default:()=>z;return Y.d(p,{a:p}),p},Y.d=(z,p)=>{for(var k in p)Y.o(p,k)&&!Y.o(z,k)&&Object.defineProperty(z,k,{enumerable:!0,get:p[k]})},Y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Y.o=(z,p)=>Object.prototype.hasOwnProperty.call(z,p),Y.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var Se={};return(()=>{Y.r(Se),Y.d(Se,{LSPluginUser:()=>cr,setupPluginUserInstance:()=>Jr});var z=Y(520);Y(856);const p=function(){this.__data__=[],this.size=0},k=function(t,e){return t===e||t!=t&&e!=e},U=function(t,e){for(var n=t.length;n--;)if(k(t[n][0],e))return n;return-1};var A=Array.prototype.splice;const P=function(t){var e=this.__data__,n=U(e,t);return!(n<0)&&(n==e.length-1?e.pop():A.call(e,n,1),--this.size,!0)},X=function(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]},b=function(t){return U(this.__data__,t)>-1},h=function(t,e){var n=this.__data__,r=U(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function v(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}v.prototype.clear=p,v.prototype.delete=P,v.prototype.get=X,v.prototype.has=b,v.prototype.set=h;const y=v,q=function(){this.__data__=new y,this.size=0},L=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},R=function(t){return this.__data__.get(t)},W=function(t){return this.__data__.has(t)},j=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn;var M=typeof self=="object"&&self&&self.Object===Object&&self;const a=j||M||Function("return this")(),l=a.Symbol;var g=Object.prototype,C=g.hasOwnProperty,V=g.toString,ee=l?l.toStringTag:void 0;const ae=function(t){var e=C.call(t,ee),n=t[ee];try{t[ee]=void 0;var r=!0}catch{}var i=V.call(t);return r&&(e?t[ee]=n:delete t[ee]),i};var be=Object.prototype.toString;const Ce=function(t){return be.call(t)};var ke=l?l.toStringTag:void 0;const he=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ke&&ke in Object(t)?ae(t):Ce(t)},Pe=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},d=function(t){if(!Pe(t))return!1;var e=he(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},m=a["__core-js_shared__"];var N,ne=(N=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";const Ae=function(t){return!!ne&&ne in t};var F=Function.prototype.toString;const J=function(t){if(t!=null){try{return F.call(t)}catch{}try{return t+""}catch{}}return""};var ue=/^\[object .+?Constructor\]$/,Ee=Function.prototype,Oe=Object.prototype,He=Ee.toString,ot=Oe.hasOwnProperty,fe=RegExp("^"+He.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const de=function(t){return!(!Pe(t)||Ae(t))&&(d(t)?fe:ue).test(J(t))},Te=function(t,e){return t?.[e]},je=function(t,e){var n=Te(t,e);return de(n)?n:void 0},Ue=je(a,"Map"),Me=je(Object,"create"),Re=function(){this.__data__=Me?Me(null):{},this.size=0},Nt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var kt=Object.prototype.hasOwnProperty;const qn=function(t){var e=this.__data__;if(Me){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return kt.call(e,t)?e[t]:void 0};var Rn=Object.prototype.hasOwnProperty;const Dn=function(t){var e=this.__data__;return Me?e[t]!==void 0:Rn.call(e,t)},zn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Me&&e===void 0?"__lodash_hash_undefined__":e,this};function it(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}it.prototype.clear=Re,it.prototype.delete=Nt,it.prototype.get=qn,it.prototype.has=Dn,it.prototype.set=zn;const un=it,$n=function(){this.size=0,this.__data__={hash:new un,map:new(Ue||y),string:new un}},Bn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ht=function(t,e){var n=t.__data__;return Bn(e)?n[typeof e=="string"?"string":"hash"]:n.map},_=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e},O=function(t){return ht(this,t).get(t)},B=function(t){return ht(this,t).has(t)},K=function(t,e){var n=ht(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function le(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}le.prototype.clear=$n,le.prototype.delete=_,le.prototype.get=O,le.prototype.has=B,le.prototype.set=K;const Fe=le,Qe=function(t,e){var n=this.__data__;if(n instanceof y){var r=n.__data__;if(!Ue||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(t,e),this.size=n.size,this};function qe(t){var e=this.__data__=new y(t);this.size=e.size}qe.prototype.clear=q,qe.prototype.delete=L,qe.prototype.get=R,qe.prototype.has=W,qe.prototype.set=Qe;const Xe=qe,ft=function(){try{var t=je(Object,"defineProperty");return t({},"",{}),t}catch{}}(),At=function(t,e,n){e=="__proto__"&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ft=function(t,e,n){(n!==void 0&&!k(t[e],n)||n===void 0&&!(e in t))&&At(t,e,n)},dn=function(t){return function(e,n,r){for(var i=-1,s=Object(e),c=r(e),u=c.length;u--;){var f=c[t?u:++i];if(n(s[f],f,s)===!1)break}return e}}();var pn=D&&!D.nodeType&&D,gt=pn&&!0&&x&&!x.nodeType&&x,hn=gt&&gt.exports===pn?a.Buffer:void 0,fn=hn?hn.allocUnsafe:void 0;const Hn=function(t,e){if(e)return t.slice();var n=t.length,r=fn?fn(n):new t.constructor(n);return t.copy(r),r},at=a.Uint8Array,qt=function(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e},We=function(t,e){var n=e?qt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},gn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var mt=Object.create;const Rt=function(){function t(){}return function(e){if(!Pe(e))return{};if(mt)return mt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),mn=function(t,e){return function(n){return t(e(n))}},bn=mn(Object.getPrototypeOf,Object);var Wn=Object.prototype;const Dt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Wn)},vn=function(t){return typeof t.constructor!="function"||Dt(t)?{}:Rt(bn(t))},we=function(t){return t!=null&&typeof t=="object"},st=function(t){return we(t)&&he(t)=="[object Arguments]"};var Ge=Object.prototype,zt=Ge.hasOwnProperty,$t=Ge.propertyIsEnumerable;const Ot=st(function(){return arguments}())?st:function(t){return we(t)&&zt.call(t,"callee")&&!$t.call(t,"callee")},Le=Array.isArray,Bt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},bt=function(t){return t!=null&&Bt(t.length)&&!d(t)},Ht=function(t){return we(t)&&bt(t)},ve=function(){return!1};var Wt=D&&!D.nodeType&&D,ye=Wt&&!0&&x&&!x.nodeType&&x,Gt=ye&&ye.exports===Wt?a.Buffer:void 0;const ce=(Gt?Gt.isBuffer:void 0)||ve;var vt=Function.prototype,Vt=Object.prototype,Jt=vt.toString,Zt=Vt.hasOwnProperty,yn=Jt.call(Object);const lt=function(t){if(!we(t)||he(t)!="[object Object]")return!1;var e=bn(t);if(e===null)return!0;var n=Zt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Jt.call(n)==yn};var te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te["[object Arguments]"]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te["[object Map]"]=te["[object Number]"]=te["[object Object]"]=te["[object RegExp]"]=te["[object Set]"]=te["[object String]"]=te["[object WeakMap]"]=!1;const Kt=function(t){return we(t)&&Bt(t.length)&&!!te[he(t)]},Yt=function(t){return function(e){return t(e)}};var et=D&&!D.nodeType&&D,Ve=et&&!0&&x&&!x.nodeType&&x,ct=Ve&&Ve.exports===et&&j.process,Qt=function(){try{var t=Ve&&Ve.require&&Ve.require("util").types;return t||ct&&ct.binding&&ct.binding("util")}catch{}}(),Tt=Qt&&Qt.isTypedArray;const tt=Tt?Yt(Tt):Kt,Je=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var ut=Object.prototype.hasOwnProperty;const wn=function(t,e,n){var r=t[e];ut.call(t,e)&&k(r,n)&&(n!==void 0||e in t)||At(t,e,n)},_n=function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],f=r?r(n[u],t[u],u,n,t):void 0;f===void 0&&(f=t[u]),i?At(n,u,f):wn(n,u,f)}return n},xn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Xt=/^(?:0|[1-9]\d*)$/;const jt=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Xt.test(t))&&t>-1&&t%1==0&&t<e};var en=Object.prototype.hasOwnProperty;const Et=function(t,e){var n=Le(t),r=!n&&Ot(t),i=!n&&!r&&ce(t),s=!n&&!r&&!i&&tt(t),c=n||r||i||s,u=c?xn(t.length,String):[],f=u.length;for(var T in t)!e&&!en.call(t,T)||c&&(T=="length"||i&&(T=="offset"||T=="parent")||s&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||jt(T,f))||u.push(T);return u},Ze=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var It=Object.prototype.hasOwnProperty;const Sn=function(t){if(!Pe(t))return Ze(t);var e=Dt(t),n=[];for(var r in t)(r!="constructor"||!e&&It.call(t,r))&&n.push(r);return n},Cn=function(t){return bt(t)?Et(t,!0):Sn(t)},Gn=function(t){return _n(t,Cn(t))},dt=function(t,e,n,r,i,s,c){var u=Je(t,n),f=Je(e,n),T=c.get(f);if(T)Ft(t,n,T);else{var E=s?s(u,f,n+"",t,e,c):void 0,I=E===void 0;if(I){var $=Le(f),Z=!$&&ce(f),H=!$&&!Z&&tt(f);E=f,$||Z||H?Le(u)?E=u:Ht(u)?E=gn(u):Z?(I=!1,E=Hn(f,!0)):H?(I=!1,E=We(f,!0)):E=[]:lt(f)||Ot(f)?(E=u,Ot(u)?E=Gn(u):Pe(u)&&!d(u)||(E=vn(f))):I=!1}I&&(c.set(f,E),i(E,f,r,s,c),c.delete(f)),Ft(t,n,E)}},Vn=function t(e,n,r,i,s){e!==n&&dn(n,function(c,u){if(s||(s=new Xe),Pe(c))dt(e,n,u,r,t,i,s);else{var f=i?i(Je(e,u),c,u+"",e,n,s):void 0;f===void 0&&(f=c),Ft(e,u,f)}},Cn)},Ut=function(t){return t},tn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var nn=Math.max;const kn=function(t,e,n){return e=nn(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=nn(r.length-e,0),c=Array(s);++i<s;)c[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(c),tn(t,this,u)}},Jn=function(t){return function(){return t}},Lt=ft?function(t,e){return ft(t,"toString",{configurable:!0,enumerable:!1,value:Jn(e),writable:!0})}:Ut;var rn=Date.now;const Zn=function(t){var e=0,n=0;return function(){var r=rn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Lt),De=function(t,e){return Zn(kn(t,e,Ut),t+"")},An=function(t,e,n){if(!Pe(n))return!1;var r=typeof e;return!!(r=="number"?bt(n)&&jt(e,n.length):r=="string"&&e in n)&&k(n[e],t)},On=function(t){return De(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,c&&An(n[0],n[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}(function(t,e,n){Vn(t,e,n)});var yt=function(){return yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yt.apply(this,arguments)};function Kn(t){return t.toLowerCase()}var wt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],ze=/[^A-Z0-9]+/gi;function on(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function Tn(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,s=i===void 0?wt:i,c=r.stripRegexp,u=c===void 0?ze:c,f=r.transform,T=f===void 0?Kn:f,E=r.delimiter,I=E===void 0?" ":E,$=on(on(n,s,"$1\0$2"),u,"\0"),Z=0,H=$.length;$.charAt(Z)==="\0";)Z++;for(;$.charAt(H-1)==="\0";)H--;return $.slice(Z,H).split("\0").map(T).join(I)}(t,yt({delimiter:"."},e))}var an=Y(729),_t=Y.n(an);function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?z.win32:z.posix,S=function(t,e){return e===void 0&&(e={}),Tn(t,yt({delimiter:"_"},e))},w=On;class re extends _t(){constructor(e,n){super(),sn(this,"_tag",void 0),sn(this,"_opts",void 0),sn(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const s=n.reduce((u,f)=>(f&&f instanceof Error?u+=`${f.message} ${f.stack}`:u+=f.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var c;this._logs.push([e,s]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((c=console)===null||c===void 0||c[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function pe(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function _e(t,e){let n,r,i=!1;const s=u=>f=>{t&&clearTimeout(t),u(f),i=!0},c=new Promise((u,f)=>{n=s(u),r=s(f),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:c,get settled(){return i}}}const xe=new Map;window.__injectedUIEffects=xe;var xt=Y(227),$e=Y.n(xt);function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const nt="application/x-postmate-v1+json";let vr=0;const vo={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Yn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===nt&&!!vo[t.data.postmate];class yo{constructor(e){Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"events",{}),Q(this,"childOrigin",void 0),Q(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Yn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++vr,s=c=>{c.data.uid===i&&c.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),r(c.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:nt,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:nt,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class wo{constructor(e){Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),Q(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Yn(n,this.parentOrigin))return;const{property:r,uid:i,data:s,args:c}=n.data;n.data.postmate!=="call"?((u,f,T)=>{const E=typeof u[f]=="function"?u[f].apply(null,T):u[f];return Promise.resolve(E)})(this.model,r,c).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:nt,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](s)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:nt,value:{name:e,data:n}},this.parentOrigin)}}class Qn{constructor(e){Q(this,"container",void 0),Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"childOrigin",void 0),Q(this,"url",void 0),Q(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(s=>{const c=document.createElement("a");c.href=s;const u=c.protocol.length>4?c.protocol:window.location.protocol,f=c.host.length?c.port==="80"||c.port==="443"?c.hostname:c.host:window.location.host;return c.origin||`${u}//${f}`})(e=e||this.url);let r,i=0;return new Promise((s,c)=>{const u=T=>!!Yn(T,n)&&(T.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=T.origin,s(new yo(this))):c("Failed handshake"));this.parent.addEventListener("message",u,!1);const f=()=>{i++,this.child.postMessage({postmate:"handshake",type:nt,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{f(),r=setInterval(f,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Q(Qn,"debug",!1),Q(Qn,"Model",void 0);class _o{constructor(e){Q(this,"child",void 0),Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:nt},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(c=>{this.model[c]=s[c]}),e(new wo(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:xo,createSandboxContainer:So}=window.QSandbox||{};function Co(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class ko extends _t(){constructor(e){super(),ln(this,"_pluginLocal",void 0),ln(this,"_frame",void 0),ln(this,"_root",void 0),ln(this,"_loaded",!1),ln(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await xo(n,{fetch:Co});this._mount(r,document.body);const s=So(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new cr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const c=await i(s,!0);this._unmountFns.push(c.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const pt=$e()("LSPlugin:caller"),cn="#await#response#",Ao="#lspmsg#",yr="#lspmsg#error#",jn=t=>`#lspmsg#${t}`;class Oo extends _t(){constructor(e){super(),Ke(this,"_pluginLocal",void 0),Ke(this,"_connected",!1),Ke(this,"_parent",void 0),Ke(this,"_child",void 0),Ke(this,"_shadow",void 0),Ke(this,"_status",void 0),Ke(this,"_userModel",{}),Ke(this,"_call",void 0),Ke(this,"_callUserModel",void 0),Ke(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const s=new Map,c=_e(6e4),u=this._extendUserModel({"#lspmsg#ready#":async E=>{u[jn(E?.pid)]=({type:I,payload:$})=>{pt(`[host (_call) -> *user] ${this._debugTag}`,I,$),n.emit(I,$)},await c.resolve()},"#lspmsg#beforeunload#":async E=>{const I=_e(1e4);n.emit("beforeunload",Object.assign({actor:I},E)),await I.promise},"#lspmsg#settings#":async({type:E,payload:I})=>{n.emit("settings:changed",I)},[Ao]:async({ns:E,type:I,payload:$})=>{pt(`[host (async) -> *user] ${this._debugTag} ns=${E} type=${I}`,$),E&&E.startsWith("hook")?n.emit(`${E}:${I}`,$):n.emit(I,$)},"#lspmsg#reply#":({_sync:E,result:I})=>{if(pt(`[sync host -> *user] #${E}`,I),s.has(E)){const $=s.get(E);$&&(I!=null&&I.hasOwnProperty(yr)?$.reject(I[yr]):$.resolve(I),s.delete(E))}},...e});var f;if(r)return await c.promise,JSON.parse(JSON.stringify((f=this._pluginLocal)===null||f===void 0?void 0:f.toJSON()));const T=new _o(u).sendHandshakeReply();return this._status="pending",await T.then(E=>{this._child=E,this._connected=!0,this._call=async(I,$={},Z)=>{if(Z){const H=++i;s.set(H,Z),$._sync=H,Z.setTag(`async call #${H}`),pt(`async call #${H}`)}return E.emit(jn(u.baseInfo.id),{type:I,payload:$}),Z?.promise},this._callUserModel=async(I,$)=>{try{u[I]($)}catch{pt(`[model method] #${I} not existed`)}},setInterval(()=>{if(s.size>100)for(const[I,$]of s)$.settled&&s.delete(I)},18e5)}).finally(()=>{this._status=void 0}),await c.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=_e(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${cn}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${r}`);s&&s.parentElement.removeChild(s);const c=document.createElement("div");c.classList.add("lsp-iframe-sandbox-container"),c.id=r,c.dataset.pid=n;try{var u;const I=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(I){c.dataset.inited_layout="true";let{width:$,height:Z,left:H,top:oe,vw:ge,vh:Ie}=I;H=Math.max(H,0),H=typeof ge=="number"?`${Math.min(100*H/ge,99)}%`:`${H}px`,oe=Math.max(oe,45),oe=typeof Ie=="number"?`${Math.min(100*oe/Ie,99)}%`:`${oe}px`,Object.assign(c.style,{width:$+"px",height:Z+"px",left:H,top:oe})}}catch(I){console.error("[Restore Layout Error]",I)}document.body.appendChild(c);const f=new Qn({id:n+"_iframe",container:c,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let T,E=f.sendHandshake();return this._status="pending",new Promise((I,$)=>{T=setTimeout(()=>{$(new Error("handshake Timeout")),f.destroy()},4e3),E.then(Z=>{this._parent=Z,this._connected=!0,this.emit("connected"),Z.on(jn(e.id),({type:H,payload:oe})=>{var ge,Ie;pt("[user -> *host] ",H,oe),(ge=this._pluginLocal)===null||ge===void 0||ge.emit(H,oe||{}),(Ie=this._pluginLocal)===null||Ie===void 0||Ie.caller.emit(H,oe||{})}),this._call=async(...H)=>{await Z.call(jn(e.id),{type:H[0],payload:Object.assign(H[1]||{},{$$pid:e.id})})},this._callUserModel=async(H,...oe)=>{if(H.startsWith(cn))return await Z.get(H.replace(cn,""),...oe);Z.call(H,oe?.[0])},I(null)}).catch(Z=>{$(Z)}).finally(()=>{clearTimeout(T)})}).catch(I=>{throw pt("[iframe sandbox] error",I),I}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new ko(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},s)=>{var c;return s&&(i.actor=s),(c=this._pluginLocal)===null||c===void 0||c.emit(r,Object.assign(i,{$$pid:e.id})),s?.promise},this._callUserModel=async(...r)=>{var i;let s=r[0];(i=s)!==null&&i!==void 0&&i.startsWith(cn)&&(s=s.replace(cn,""));const c=r[1]||{},u=this._userModel[s];typeof u=="function"&&await u.call(null,c)}}catch(r){throw pt("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class _r{constructor(e,n){wr(this,"ctx",void 0),wr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class To{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const s=this.ensureHostScope();return e=(r=S(e))===null||r===void 0?void 0:r.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const xr=t=>`task_callback_${t}`;class jo{constructor(e,n,r={}){Pt(this,"_client",void 0),Pt(this,"_requestId",void 0),Pt(this,"_requestOptions",void 0),Pt(this,"_promise",void 0),Pt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,f)=>{if(!this._requestId)return f(null);this._client.once(xr(this._requestId),T=>{T&&T instanceof Error?f(T):u(T)})});const{success:i,fail:s,final:c}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{s?.(u)}).finally(()=>{c?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Xn extends an.EventEmitter{constructor(e){super(),Pt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n?.requestId;r&&this.emit(xr(r),n?.payload)})}static createRequestTask(e,n,r){return new jo(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:s,...c}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,c),f=Xn.createRequestTask(this.ctx.Request,u,e);return c.abortable?f:f.promise}get ctx(){return this._ctx}}const Eo=mn(Object.keys,Object);var Io=Object.prototype.hasOwnProperty;const Uo=function(t){if(!Dt(t))return Eo(t);var e=[];for(var n in Object(t))Io.call(t,n)&&n!="constructor"&&e.push(n);return e},er=function(t){return bt(t)?Et(t):Uo(t)},Lo=function(t,e){return t&&dn(t,e,er)},Po=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mo=function(t){return this.__data__.has(t)};function En(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}En.prototype.add=En.prototype.push=Po,En.prototype.has=Mo;const No=En,Fo=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},qo=function(t,e){return t.has(e)},Sr=function(t,e,n,r,i,s){var c=1&n,u=t.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var T=s.get(t),E=s.get(e);if(T&&E)return T==e&&E==t;var I=-1,$=!0,Z=2&n?new No:void 0;for(s.set(t,e),s.set(e,t);++I<u;){var H=t[I],oe=e[I];if(r)var ge=c?r(oe,H,I,e,t,s):r(H,oe,I,t,e,s);if(ge!==void 0){if(ge)continue;$=!1;break}if(Z){if(!Fo(e,function(Ie,rt){if(!qo(Z,rt)&&(H===Ie||i(H,Ie,n,r,s)))return Z.push(rt)})){$=!1;break}}else if(H!==oe&&!i(H,oe,n,r,s)){$=!1;break}}return s.delete(t),s.delete(e),$},Ro=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Do=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var Cr=l?l.prototype:void 0,tr=Cr?Cr.valueOf:void 0;const zo=function(t,e,n,r,i,s,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new at(t),new at(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return k(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Ro;case"[object Set]":var f=1&r;if(u||(u=Do),t.size!=e.size&&!f)return!1;var T=c.get(t);if(T)return T==e;r|=2,c.set(t,e);var E=Sr(u(t),u(e),r,i,s,c);return c.delete(t),E;case"[object Symbol]":if(tr)return tr.call(t)==tr.call(e)}return!1},$o=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Bo=function(t,e,n){var r=e(t);return Le(t)?r:$o(r,n(t))},Ho=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var c=t[n];e(c,n,t)&&(s[i++]=c)}return s},Wo=function(){return[]};var Go=Object.prototype.propertyIsEnumerable,kr=Object.getOwnPropertySymbols;const Vo=kr?function(t){return t==null?[]:(t=Object(t),Ho(kr(t),function(e){return Go.call(t,e)}))}:Wo,Ar=function(t){return Bo(t,er,Vo)};var Jo=Object.prototype.hasOwnProperty;const Zo=function(t,e,n,r,i,s){var c=1&n,u=Ar(t),f=u.length;if(f!=Ar(e).length&&!c)return!1;for(var T=f;T--;){var E=u[T];if(!(c?E in e:Jo.call(e,E)))return!1}var I=s.get(t),$=s.get(e);if(I&&$)return I==e&&$==t;var Z=!0;s.set(t,e),s.set(e,t);for(var H=c;++T<f;){var oe=t[E=u[T]],ge=e[E];if(r)var Ie=c?r(ge,oe,E,e,t,s):r(oe,ge,E,t,e,s);if(!(Ie===void 0?oe===ge||i(oe,ge,n,r,s):Ie)){Z=!1;break}H||(H=E=="constructor")}if(Z&&!H){var rt=t.constructor,Ct=e.constructor;rt==Ct||!("constructor"in t)||!("constructor"in e)||typeof rt=="function"&&rt instanceof rt&&typeof Ct=="function"&&Ct instanceof Ct||(Z=!1)}return s.delete(t),s.delete(e),Z},nr=je(a,"DataView"),rr=je(a,"Promise"),or=je(a,"Set"),ir=je(a,"WeakMap");var Or="[object Map]",Tr="[object Promise]",jr="[object Set]",Er="[object WeakMap]",Ir="[object DataView]",Ko=J(nr),Yo=J(Ue),Qo=J(rr),Xo=J(or),ei=J(ir),St=he;(nr&&St(new nr(new ArrayBuffer(1)))!=Ir||Ue&&St(new Ue)!=Or||rr&&St(rr.resolve())!=Tr||or&&St(new or)!=jr||ir&&St(new ir)!=Er)&&(St=function(t){var e=he(t),n=e=="[object Object]"?t.constructor:void 0,r=n?J(n):"";if(r)switch(r){case Ko:return Ir;case Yo:return Or;case Qo:return Tr;case Xo:return jr;case ei:return Er}return e});const Ur=St;var Lr="[object Arguments]",Pr="[object Array]",In="[object Object]",Mr=Object.prototype.hasOwnProperty;const ti=function(t,e,n,r,i,s){var c=Le(t),u=Le(e),f=c?Pr:Ur(t),T=u?Pr:Ur(e),E=(f=f==Lr?In:f)==In,I=(T=T==Lr?In:T)==In,$=f==T;if($&&ce(t)){if(!ce(e))return!1;c=!0,E=!1}if($&&!E)return s||(s=new Xe),c||tt(t)?Sr(t,e,n,r,i,s):zo(t,e,f,n,r,i,s);if(!(1&n)){var Z=E&&Mr.call(t,"__wrapped__"),H=I&&Mr.call(e,"__wrapped__");if(Z||H){var oe=Z?t.value():t,ge=H?e.value():e;return s||(s=new Xe),i(oe,ge,n,r,s)}}return!!$&&(s||(s=new Xe),Zo(t,e,n,r,i,s))},Nr=function t(e,n,r,i,s){return e===n||(e==null||n==null||!we(e)&&!we(n)?e!=e&&n!=n:ti(e,n,r,i,t,s))},ni=function(t,e,n,r){var i=n.length,s=i,c=!r;if(t==null)return!s;for(t=Object(t);i--;){var u=n[i];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var f=(u=n[i])[0],T=t[f],E=u[1];if(c&&u[2]){if(T===void 0&&!(f in t))return!1}else{var I=new Xe;if(r)var $=r(T,E,f,t,e,I);if(!($===void 0?Nr(E,T,3,r,I):$))return!1}}return!0},Fr=function(t){return t==t&&!Pe(t)},ri=function(t){for(var e=er(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Fr(i)]}return e},qr=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},oi=function(t){var e=ri(t);return e.length==1&&e[0][2]?qr(e[0][0],e[0][1]):function(n){return n===t||ni(n,t,e)}},ar=function(t){return typeof t=="symbol"||we(t)&&he(t)=="[object Symbol]"};var ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/;const sr=function(t,e){if(Le(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ar(t))||ai.test(t)||!ii.test(t)||e!=null&&t in Object(e)};function lr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var c=t.apply(this,r);return n.cache=s.set(i,c)||s,c};return n.cache=new(lr.Cache||Fe),n}lr.Cache=Fe;const si=lr;var li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ci=/\\(\\)?/g;const ui=function(t){var e=si(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(li,function(n,r,i,s){e.push(i?s.replace(ci,"$1"):r||n)}),e}),di=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Rr=l?l.prototype:void 0,Dr=Rr?Rr.toString:void 0;const pi=function t(e){if(typeof e=="string")return e;if(Le(e))return di(e,t)+"";if(ar(e))return Dr?Dr.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},hi=function(t){return t==null?"":pi(t)},zr=function(t,e){return Le(t)?t:sr(t,e)?[t]:ui(hi(t))},Un=function(t){if(typeof t=="string"||ar(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},$r=function(t,e){for(var n=0,r=(e=zr(e,t)).length;t!=null&&n<r;)t=t[Un(e[n++])];return n&&n==r?t:void 0},fi=function(t,e,n){var r=t==null?void 0:$r(t,e);return r===void 0?n:r},gi=function(t,e){return t!=null&&e in Object(t)},mi=function(t,e,n){for(var r=-1,i=(e=zr(e,t)).length,s=!1;++r<i;){var c=Un(e[r]);if(!(s=t!=null&&n(t,c)))break;t=t[c]}return s||++r!=i?s:!!(i=t==null?0:t.length)&&Bt(i)&&jt(c,i)&&(Le(t)||Ot(t))},bi=function(t,e){return t!=null&&mi(t,e,gi)},vi=function(t,e){return sr(t)&&Fr(e)?qr(Un(t),e):function(n){var r=fi(n,t);return r===void 0&&r===e?bi(n,t):Nr(e,r,3)}},yi=function(t){return function(e){return e?.[t]}},wi=function(t){return function(e){return $r(e,t)}},_i=function(t){return sr(t)?yi(Un(t)):wi(t)},xi=function(t){return typeof t=="function"?t:t==null?Ut:typeof t=="object"?Le(t)?vi(t[0],t[1]):oi(t):_i(t)},Si=function(t,e){var n={};return e=xi(e),Lo(t,function(r,i,s){At(n,e(r,i,s),r)}),n};function Br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ci{constructor(e,n){Br(this,"ctx",void 0),Br(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Le(r?.blocks)&&(r.blocks=r.blocks.map(i=>i&&Si(i,(s,c)=>`block/${c}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const s=(c=>`service:search:${c}:${n.name}`)(r);e.caller.on(s,async c=>{if(d(n?.[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(f=>{if(c){if(f===!0)return c;if(c.hasOwnProperty(f)){const T=c[f];return delete c[f],T}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(f){console.error("[SearchService] ",f),u=f}finally{i.reply&&e.caller.call(`${s}:reply`,u)}}})})}}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ki=Symbol.for("proxy-continue"),Ai=$e()("LSPlugin:user"),Hr=new re("",{console:!0});function Mt(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:s,desc:c,palette:u,keybinding:f,extras:T}=e,E=`SimpleCommandHook${i}${++Vr}`;this.Editor["on"+E](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:c,keybinding:f,extras:T},["editor/hook",E]],u]})}function Wr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Hr.error(`#${t} is not a valid UUID string.`),!1);var e}let Ln=null,Gr=new Map;const Oi={async getInfo(t){return Ln||(Ln=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?Ln[t]:Ln},registerCommand:Mt,registerSearchService(t){if(Gr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Gr.set(t.name,new Ci(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return Mt.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+S(n);return Mt.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;Mt.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Wr(t))return;const n=this.baseInfo.id,r=`hook:editor:${S(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${r}.${i}.`,"");if(!r||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Vr=0;const Ti={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Ai("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...s]=r;if(i==="editor/hook"){let c=s[0],u=()=>{var T;(T=this.caller)===null||T===void 0||T.callUserModel(c)};typeof c=="function"&&(u=c);const f=`SlashCommandHook${i}${++Vr}`;r[1]=f,this.Editor["on"+f](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Mt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Mt.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},ji={onBlockChanged(t,e){if(!Wr(t))return;const n=this.baseInfo.id,r=`hook:db:${S(`block:${t}`)}`,i=({block:s,txData:c,txMeta:u})=>{s.uuid===t&&e(s,c,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Ei={},Ii={},Ui={makeSandboxStorage(){return new _r(this,{assets:!0})}};class cr extends _t(){constructor(e,n){super(),Be(this,"_baseInfo",void 0),Be(this,"_caller",void 0),Be(this,"_version","0.0.15"),Be(this,"_debugTag",""),Be(this,"_settingsSchema",void 0),Be(this,"_connected",!1),Be(this,"_ui",new Map),Be(this,"_mFileStorage",void 0),Be(this,"_mRequest",void 0),Be(this,"_mExperiments",void 0),Be(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...s},i)}),n.on("beforeunload",async r=>{const{actor:i,...s}=r,c=this._beforeunloadCallback;try{c&&await c(s),i?.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=w(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,c){const u=(c||[]).reduce((f,T)=>("default"in T&&(f[T.key]=T.default),f),{});return Object.assign(u,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Hr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),pe(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(s,c,u){const f=s[c];return function(...T){if(f){const I=f.apply(r,T.concat(n));if(I!==ki)return I}if(n){const I=c.toString().match(/^(once|off|on)/i);if(I!=null){const $=I[0].toLowerCase(),Z=I.input.slice($.length),H=$==="off",oe=r.baseInfo.id,ge=`hook:${n}:${S(Z)}`,Ie=T[0],rt=T[1];i[$](ge,Ie);const Ct=()=>{i.off(ge,Ie),i.listenerCount(ge)||r.App._uninstallPluginHook(oe,ge)};return H?void Ct():(r.App._installPluginHook(oe,ge,rt),Ct)}}let E=c;return["git","ui","assets"].includes(n)&&(E=n+"_"+E),i.callAsync("api:call",{tag:n,method:E,args:T})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Oi,"app")}get Editor(){return this._makeUserProxy(Ti,"editor")}get DB(){return this._makeUserProxy(ji,"db")}get Git(){return this._makeUserProxy(Ei,"git")}get UI(){return this._makeUserProxy(Ii,"ui")}get Assets(){return this._makeUserProxy(Ui,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new _r(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Xn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new To(this)),e}}function Jr(t,e){return new cr(t,e)}if(window.__LSP__HOST__==null){const t=new Oo(null);window.logseq=Jr({},t)}})(),Se})())})(Nn,Nn.exports);Nn.exports;const Li={title:"Awesome UI",icon:"./icon.png",id:"logseq-awesome-ui"},G=parent.document,Ye=G.documentElement,Ne=G.body,se={pluginID:Li.id,pluginConfig:null,isPluginEnabled:"is-awUi-enabled",tabsPluginIframe:null},Pi=`[data-pid=logseq-agenda]{z-index:10!important;width:calc(100% - var(--awUi-calc-left-sidebar-width, var(--ls-left-sidebar-width)) - var(--awUi-calc-right-sidebar-width, var(--ls-right-sidebar-width)))!important;height:calc(100vh - var(--awUi-tabs-height) - var(--awUi-header-height))!important;left:var(--awUi-calc-left-sidebar-width, var(--ls-left-sidebar-width));right:var(--awUi-calc-right-sidebar-width, var(--ls-right-sidebar-width));top:calc(var(--awUi-tabs-height) + var(--awUi-header-height))!important}
`;let Fn=null;const dr="/page/calendar",Yr=()=>{se.pluginConfig.menuCalendar?Mi():Qr()},Mi=()=>{Ni(),Fi()},Qr=()=>{G.head.querySelector('style[data-injected-style^="--awUi-calendar-css"]')?.remove(),G.querySelector(".nav-header .calendar-nav")?.remove()},Ni=()=>{const x=G.querySelector(".nav-header .journals-nav"),D=`
        <div class="calendar-nav">
            <a href="#${dr}" class="item group flex items-center text-sm font-medium rounded-md" id="--awUi-calendar-menu">
                <span class="ui__icon ti ls-icon-calendar-time">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M11 21H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3.5M16 3v4M8 3v4M4 11h11"></path><path d="M17.8 20.8 15.6 22a.4.4 0 0 1-.5-.5l.4-2.4-1.8-1.7a.4.4 0 0 1 .2-.6l2.5-.4 1-2.2a.4.4 0 0 1 .8 0l1 2.2 2.5.4a.4.4 0 0 1 .2.6L20 19.1l.4 2.4a.4.4 0 0 1-.5.5l-2.2-1.2z"></path></svg>
                </span>
                <span class="flex-1">Calendar</span>
                </a>
        </div>
    `;x?.insertAdjacentHTML("afterend",D)},Fi=()=>{if(!G.getElementById("logseq-agenda_iframe")){console.log("AwesomeUi: agenda plugin not found!");return}logseq.provideStyle({key:"--awUi-calendar-css",style:Pi}),window.parent.location.hash.toLowerCase()===`#${dr}`&&setTimeout(()=>{Zr()},1e3),qi(),logseq.App.onRouteChanged(({path:D})=>{se.pluginConfig.menuCalendar&&(D.toLowerCase()===dr?Zr():Ri())})},qi=()=>{Fn=G.getElementById("--awUi-calendar-menu"),G.getElementById("left-menu").addEventListener("click",pr),logseq.App.onSidebarVisibleChanged(()=>{pr()})},Zr=async()=>{pr(),Fn&&(await logseq.App.invokeExternalPlugin("logseq-agenda.models.show"),Fn.classList.add("active"),setTimeout(()=>{G.getElementById("logseq-agenda_iframe")?.blur()},150))},Ri=()=>{logseq.App.invokeExternalPlugin("logseq-agenda.models.hide"),Fn?.classList.remove("active")},pr=()=>{setTimeout(()=>{let x;G.getElementById("left-sidebar")?.classList.contains("is-open")?x=G.getElementById("left-sidebar")?.getBoundingClientRect()?.width:x=0,Ye.style.setProperty("--awUi-calc-left-sidebar-width",`${x}px`);const D=G.getElementById("right-sidebar")?.getBoundingClientRect()?.width;Ye.style.setProperty("--awUi-calc-right-sidebar-width",`${D}px`)},500)};const Xr=()=>{se.pluginConfig.hideHomeButton?Ye.style.setProperty("--awUi-home-button","none"):Ye.style.removeProperty("--awUi-home-button"),se.pluginConfig.hideAddNewPage?Ye.style.removeProperty("--awUi-sidebar-new-page"):Ye.style.setProperty("--awUi-sidebar-new-page","block"),se.pluginConfig.hideSidebarPageIcons?Ye.style.removeProperty("--awUi-sidebar-page-icon"):Ye.style.setProperty("--awUi-sidebar-page-icon","visible"),se.pluginConfig.alwaysShowNewBlockBullet?Ye.style.setProperty("--awUi-new-bullet-hidden","none"):Ye.style.removeProperty("--awUi-new-bullet-hidden")},Di=`.cp__sidebar-main-content{padding-top:0!important}#head{position:fixed;top:0;height:var(--awUi-header-height)!important}#main-content-container{top:var(--awUi-header-height)!important;height:calc(100vh - var(--awUi-header-height))!important}#right-sidebar{top:var(--awUi-header-height)!important}.ls-window-controls .cp__header>.r{margin-right:120px!important}
`,zi=()=>{eo()},$i=()=>{hr()},eo=()=>{switch(se.pluginConfig.headerVariant){case"Wide":hr(),Bi(Di);break;case"Standard":hr();break}Ne.dataset.awuiHeaderVariant=se.pluginConfig.headerVariant},Bi=x=>{Ne.dataset.awuiHeaderVariant=se.pluginConfig.headerVariant,logseq.provideStyle({key:"--awUi-header-variant-css",style:x})},hr=()=>{delete Ne.dataset.awuiHeaderVariant,G.head.querySelector('style[data-injected-style^="--awUi-header-variant-css"]')?.remove()},Hi=`#search-button{display:flex;justify-content:start;flex-grow:1;overflow:hidden;height:34px;margin:0 10px;padding:0 6px;border-radius:5px;border:1px solid #88888850;transition:all .3s;font-family:var(--awUi-font);opacity:.6}#search-button:hover{opacity:1;background:none;cursor:text}#search-button:after{display:block;content:"Search or create page";margin:2px 0 0 5px;font-size:calc(var(--awUi-font-size) + 2px)}@media (min-width: 1024px){.ui__modal[label=ls-modal-search]{left:calc(var(--ls-left-sidebar-width) + 10px);top:calc(var(--awUi-tabs-height) + 5px);padding:0;justify-content:flex-start}}.ui__modal[label=ls-modal-search] .ui__modal-panel{transition:none!important}.ui__modal[label=ls-modal-search] .panel-content,.ui__modal[label=ls-modal-search] .cp__palette-main,.panel-content .ls-search{min-width:unset;width:auto}.ui__modal[label=ls-modal-search] .cp__palette-main{margin:-2rem -1.5rem}@media (min-width: 640px){.ui__modal[label=ls-modal-search] .cp__palette-main{margin:-2rem}}.ls-search{border-radius:4px}@media (min-width: 1400px){.ui__modal-panel .panel-content .ls-search{width:calc(var(--ls-main-content-max-width) + var(--ls-left-sidebar-width))}}.ls-search .input-wrap{position:relative;height:32px}.ls-search .input-wrap:before{font-family:tabler-icons;content:"";font-size:20px;position:absolute;left:6px;top:0}.ls-search .input-wrap .cp__palette-input{font-size:calc(var(--awUi-font-size) + 2px);padding:3px 0 0 31px;border:1px solid var(--ls-border-color);border-radius:4px;margin:-1px}.ls-search .search-results-wrap{margin-top:2px}.ls-search .recent-search .wrap{padding-top:8px}.ls-search .search-result,.ls-search .search-result .font-medium{font-weight:400}.ls-search .search-results .menu-link{padding-top:0;padding-bottom:0}.ls-search .menu-link{border-top:1px dashed var(--ls-secondary-background-color)}.ls-search .menu-link:hover,.ls-search .menu-link .chosen{background-color:var(--ls-primary-background-color)}
`,to=()=>{switch(se.pluginConfig.searchStyle){case"Wide":Gi(),Wi(Hi);break;case"Standard":Vi(),no();break}},Wi=x=>{Ne.dataset.awuiSearchStyle=se.pluginConfig.searchStyle,logseq.provideStyle({key:"--awUi-search-style-css",style:x})},no=()=>{delete Ne.dataset.awuiSearchStyle,G.head.querySelector('style[data-injected-style^="--awUi-search-style-css"]')?.remove()},Gi=async()=>{const x=G.querySelector("#head .r");if(x){const D=G.getElementById("search-button");D&&x.insertAdjacentElement("afterbegin",D)}},Vi=()=>{const x=G.querySelector("#head .l");if(!x)return;const D=G.getElementById("search-button");D&&x.insertAdjacentElement("beforeend",D)};const Ji=`:root{--awUi-tabs-height: 36px}.ls-window-controls .window-controls{top:calc(var(--awUi-tabs-height) + 7px)}.cp__sidebar-main-content{padding-top:0!important}#head{top:var(--awUi-tabs-height)!important}#left-sidebar .left-sidebar-inner>.wrap{height:calc(100vh - var(--awUi-tabs-height) - var(--awUi-header-height))!important;margin-top:calc(var(--awUi-header-height) + var(--awUi-tabs-height))!important}#main-content-container{top:var(--awUi-tabs-height)!important;height:calc(100vh - var(--awUi-header-height) - var(--awUi-tabs-height))!important}body[data-awui-header-variant=Wide] #main-content-container{top:calc(var(--awUi-header-height) + var(--awUi-tabs-height))!important;height:calc(100vh - var(--awUi-header-height) - var(--awUi-tabs-height))!important}#right-sidebar{top:var(--awUi-tabs-height)!important}body[data-awui-header-variant=Wide] #right-sidebar{top:calc(var(--awUi-header-height) + var(--awUi-tabs-height))!important}#right-sidebar .sidebar-item-list{height:calc(100vh - var(--awUi-tabs-height) - 2.5rem)!important}body[data-awui-header-variant=Wide] #right-sidebar .sidebar-item-list{height:calc(100vh - var(--awUi-header-height) - var(--awUi-tabs-height) - 2.5rem)!important}.is-mac #head>.l{padding-left:.5rem}[data-pid=logseq-tabs]{position:fixed!important;top:0!important;left:unset!important;right:unset!important;bottom:unset!important;z-index:99!important;height:var(--awUi-tabs-height)!important;width:100%!important;max-width:100%!important;background-color:var(--ls-tertiary-background-color)}#logseq-tabs_iframe{position:static!important;top:unset!important;right:unset!important;bottom:unset!important;left:unset!important;z-index:unset!important;height:var(--awUi-tabs-height)!important}.is-mac [data-pid=logseq-tabs]:before{position:fixed;top:0;left:0;display:block;content:"";width:84px;height:var(--awUi-tabs-height, 0px);border-bottom:1px solid #80808080;background-color:var(--ls-tertiary-background-color)}.is-mac [data-pid=logseq-tabs]{left:84px!important}html.is-mac.is-fullscreen body:not(.is-pdf-active) [data-pid=logseq-tabs]{left:0!important}body.is-pdf-active [data-pid=logseq-tabs]{left:calc(var(--ph-view-container-width))!important}html.is-mac.is-fullscreen [data-pid=logseq-tabs]:before,html.is-mac .is-pdf-active [data-pid=logseq-tabs]:before{display:none}
`,ro=()=>{if(G.getElementById("logseq-tabs_iframe"))switch(se.pluginConfig.tabsPosition){case"TopPanel":fr(),Zi(Ji);break;case"Standard":fr();break}},Zi=x=>{Ne.dataset.awuiTabsPosition=se.pluginConfig.tabsPosition,logseq.provideStyle({key:"--awUi-tabs-position-css",style:x})},fr=()=>{delete Ne.dataset.awuiTabsPosition,G.head.querySelector('style[data-injected-style^="--awUi-tabs-position-css"]')?.remove()};let br;const Ki=()=>{br=G.querySelector(".r .flex.flex-row"),oo()},oo=()=>{switch(se.pluginConfig.navigationPosition){case"Left":Qi();break;case"Standard":io();break}},Yi=()=>{io()},Qi=()=>{const x=G.querySelector("#head .l")?.firstElementChild;x&&x.insertAdjacentElement("afterend",br)},io=()=>{const x=G.querySelector("#head .r > .ui__dropdown-trigger");x&&x.insertAdjacentElement("beforebegin",br)},Xi=(x,D)=>Object.keys(x).filter(me=>x[me]!==D[me]),ao=(x,D,ie)=>{const me=G.getElementById(x);me&&(gr(x,D),me.contentDocument?.head.insertAdjacentHTML("beforeend",`<style id='${D}'>
            ${ie}
        </style>`))},gr=(x,D)=>{const ie=G.getElementById(x);ie&&ie.contentDocument?.getElementById(D)?.remove()},so=x=>{if(!x)return"";const D="rgba(0, 0, 0, 0)",ie=getComputedStyle(x).backgroundColor;return ie!=D?ie:x.parentElement?so(x.parentElement):D},ea=()=>{const x=G.createElement("span");x.textContent="span",x.style.color="var(--ls-primary-text-color)",x.style.backgroundColor="var(--ls-primary-background-color)",Ne.insertAdjacentElement("beforeend",x);const D=getComputedStyle(x).color.trim(),ie=getComputedStyle(x).backgroundColor.trim();x.remove();const me=G.createElement("a");me.style.border="1px solid var(--ls-border-color)",me.style.backgroundColor="var(--ls-a-chosen-bg)",Ne.insertAdjacentElement("beforeend",me);const Y=getComputedStyle(me).color.trim(),Se=getComputedStyle(me).backgroundColor.trim(),z=getComputedStyle(me).borderColor.trim();me.remove();const p=G.querySelector("#head .r"),k=so(p);return`
        :root {
            --ls-primary-text-color:${D};
            --ls-primary-background-color:${ie};
            --ls-link-text-color:${Y};
            --ls-a-chosen-bg:${Se};
            --ls-border-color:${z};
            --ls-secondary-background-color:${k};
        }
    `},ta=`.logseq-tab-wrapper{display:flex;align-items:flex-end}.logseq-tab-wrapper:after{position:absolute;content:"";height:1px;background:#80808080;width:100%;z-index:0}.light .logseq-tab,.dark .logseq-tab{padding:4px 8px;height:auto;color:var(--ls-primary-text-color)!important;background-color:var(--ls-primary-background-color)!important;box-shadow:none;border-color:#80808080!important;border-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;-webkit-app-region:no-drag}.light .logseq-tab[data-active=false],.dark .logseq-tab[data-active=false]{opacity:.7}.light .logseq-tab[data-active=false]:hover,.dark .logseq-tab[data-active=false]:hover{box-shadow:var(--ls-link-text-color) 0 -1px 1px 0}.light .logseq-tab[data-active=true],.dark .logseq-tab[data-active=true]{background-color:var(--ls-secondary-background-color)!important;box-shadow:var(--ls-link-text-color) 0 -1px 1px 0;position:relative;z-index:1;bottom:0}.light .logseq-tab div,.dark .logseq-tab div{border:0;background-color:transparent}.light .logseq-tab button:hover,.dark .logseq-tab button:hover,.light .logseq-tab[data-active=true] button:hover,.dark .logseq-tab[data-active=true] button:hover{background-color:transparent!important}.logseq-tab-title{transition:none}.close-all .logseq-tab-title:before{content:"❌";margin-right:4px;opacity:.8}
`,na=`.logseq-tab-wrapper{display:flex;align-items:flex-start}.logseq-tab-wrapper:after{position:absolute;content:"";height:1px;background:#80808080;width:100%;z-index:0}.light .logseq-tab,.dark .logseq-tab{padding:4px 8px;height:auto;color:var(--ls-primary-text-color)!important;background-color:var(--ls-primary-background-color)!important;box-shadow:none;border-color:#80808080!important;border-top:0;border-top-left-radius:0;border-top-right-radius:0;-webkit-app-region:no-drag}.light .logseq-tab[data-active=false],.dark .logseq-tab[data-active=false]{opacity:.7}.light .logseq-tab[data-active=false]:hover,.dark .logseq-tab[data-active=false]:hover{box-shadow:var(--ls-link-text-color) 0 1px 1px 0}.light .logseq-tab[data-active=true],.dark .logseq-tab[data-active=true]{background-color:var(--ls-secondary-background-color)!important;box-shadow:var(--ls-link-text-color) 0 1px 1px 0;position:relative;z-index:1;bottom:0}.light .logseq-tab div,.dark .logseq-tab div{border:0;background-color:transparent}.light .logseq-tab button:hover,.dark .logseq-tab button:hover,.light .logseq-tab[data-active=true] button:hover,.dark .logseq-tab[data-active=true] button:hover{background-color:transparent!important}.logseq-tab-title{transition:none}.close-all .logseq-tab-title:before{content:"❌";margin-right:4px;opacity:.8}
`,lo=()=>{if(G.getElementById("logseq-tabs_iframe"))switch(se.pluginConfig.tabsStyle){case"Awesome":Mn(),Kr(ta);break;case"AwesomeUpside":Mn(),Kr(na);break;case"Standard":Mn();break}},Kr=x=>{Ne.dataset.awuiTabsStyle=se.pluginConfig.tabsStyle,setTimeout(()=>{ao("logseq-tabs_iframe","awUi-tabs-style",x)},400),co()},Mn=()=>{gr("logseq-tabs_iframe","awUi-tabs-style"),gr("logseq-tabs_iframe","awUi-tabs-vars"),delete Ne.dataset.awuiTabsStyle},co=()=>{const x=G.getElementById("logseq-tabs_iframe");x&&(x.style.visibility="hidden",setTimeout(()=>{const D=ea();ao("logseq-tabs_iframe","awUi-tabs-vars",D),setTimeout(()=>{x.style.visibility="visible"},100)},1e3))},ra=`#left-sidebar .nav-header{flex-direction:row;gap:4px;height:30px;margin-top:6px}#left-sidebar .nav-content-item{margin-top:0}#left-sidebar .nav-header .item{padding:5px}#left-sidebar .nav-header .ui__icon{margin:0;padding:0}#left-sidebar .nav-header .journals-nav .ui__icon{margin-top:1px}#left-sidebar .nav-header .whiteboard .ui__icon{margin-top:0;font-size:20px}#left-sidebar .nav-header .all-pages-nav .ui__icon{margin-top:2px}#left-sidebar .nav-header .item:hover{background-color:var(--ls-secondary-background-color)}#left-sidebar .nav-header .ui__icon~:is(.flex-1,.ml-1:not(.text-xs)){display:none}#left-sidebar .flashcards-nav .rounded-full{margin:0;padding:0;white-space:nowrap}
`,uo=()=>{se.pluginConfig.compactSidebarMenu?oa():po()},oa=()=>{logseq.provideStyle({key:"--awUi-compactSidebarMenu-css",style:ra})},po=()=>{G.head.querySelector('style[data-injected-style^="--awUi-compactSidebarMenu-css"]')?.remove()},ia=`#right-sidebar .cp__right-sidebar-topbar{display:none}.cp__sidebar-main-content>div{position:relative}.cp__sidebar-main-content .cp__right-sidebar-settings-btn{position:absolute;right:8px;top:21px;z-index:1;padding:0;width:34px;height:30px;font-size:0;font-weight:400;transition:.3s;color:var(--ls-link-text-color);opacity:.2}.cp__sidebar-main-content .cp__right-sidebar-settings-btn:hover{opacity:1}.cp__sidebar-main-content .cp__right-sidebar-settings-btn:before{content:"";font-family:tabler-icons;font-size:18px}.cp__sidebar-main-content .cp__right-sidebar-settings-btn:after{content:"Show page graph";font-size:14px;white-space:nowrap;display:none;position:absolute;top:-1.5em;right:0;transition:1s;opacity:0}.cp__sidebar-main-content .cp__right-sidebar-settings-btn:hover:after{display:block;opacity:.8}body:is([data-page=whiteboard],[data-page=all-pages]) .cp__sidebar-main-content .cp__right-sidebar-settings-btn{display:none}
`,mr=()=>{se.pluginConfig.hideRightSidebarToolbar&&se.pluginConfig.headerVariant=="Wide"?aa():ho()},aa=()=>{logseq.provideStyle({key:"--awUi-hideRightSidebarToolbar-css",style:ia}),setTimeout(()=>{sa()},500)},sa=()=>{const x=G.querySelector("#right-sidebar .cp__right-sidebar-settings > .text-sm:nth-child(2) > .cp__right-sidebar-settings-btn");if(x){const D=G.querySelector(".cp__sidebar-main-content div");D&&D.insertAdjacentElement("afterbegin",x)}},la=()=>{const x=G.querySelector("#right-sidebar .cp__right-sidebar-settings .text-sm:nth-child(2)");if(x){const D=G.querySelector(".cp__sidebar-main-content .cp__right-sidebar-settings-btn");D&&x.insertAdjacentElement("beforeend",D)}},ho=()=>{la(),G.head.querySelector('style[data-injected-style^="--awUi-hideRightSidebarToolbar-css"]')?.remove()},ca=`.cp__menubar-repos .ui__dropdown-trigger{position:fixed;z-index:9;left:0;bottom:4px;width:calc(var(--ls-left-sidebar-width) - 1rem);margin:0 .5rem;border-top:1px solid var(--ls-border-color)}.left-sidebar-inner .nav-contents-container{height:calc(100% - 76px)}.cp__menubar-repos .dropdown-wrapper{bottom:30px;box-shadow:none}.cp__menubar-repos .menu-links-wrapper{box-shadow:none}#left-sidebar .left-sidebar-inner .create{bottom:26px}
`,fo=()=>{se.pluginConfig.vaultButtonToBottom?ua():go()},ua=()=>{logseq.provideStyle({key:"--awUi-vaultButton-css",style:ca})},go=()=>{G.head.querySelector('style[data-injected-style^="--awUi-vaultButton-css"]')?.remove()},da="",mo=()=>{se.pluginConfig.killAnimations?pa():bo()},pa=()=>{logseq.provideStyle({key:"--awUi-animations-css",style:da})},bo=()=>{G.head.querySelector('style[data-injected-style^="--awUi-animations-css"]')?.remove()};const ha=()=>{Ne.classList.add(se.isPluginEnabled),ga(),ba(),setTimeout(()=>{logseq.beforeunload(async()=>{fa()})},2e3)},fa=()=>{Ne.classList.remove(se.isPluginEnabled),ma(),va()},ga=async()=>{logseq.provideModel({onThemeChangedCallback:ur}),setTimeout(()=>{if(G.head){const x=document.styleSheets[0].href;G.head.querySelector('link[href="./css/style.css"]').insertAdjacentHTML("afterend",`<link rel="stylesheet" id="css-awesomeUi" href="${x}">`)}},100),setTimeout(()=>{logseq.App.onThemeChanged(()=>{ur()}),logseq.App.onThemeModeChanged(()=>{ur()})},2e3)},ma=()=>{G.getElementById("css-awesomeUi")?.remove()},ba=()=>{setTimeout(()=>{Xr(),uo(),mr(),Yr(),zi(),Ki(),to(),ro(),lo(),fo(),mo()},2e3)},va=()=>{po(),ho(),Qr(),$i(),Yi(),no(),fr(),Mn(),go(),bo()},ur=()=>{co()},ya=[{key:"tabsHeading",title:"Tabs",description:"",type:"heading",default:null},{key:"tabsPosition",title:"",description:"Choose tabs position:",type:"enum",enumPicker:"radio",enumChoices:["TopPanel","Standard"],default:"TopPanel"},{key:"tabsStyle",title:"",description:"Choose tabs style:",type:"enum",enumPicker:"radio",enumChoices:["Awesome","AwesomeUpside","Standard"],default:"Awesome"},{key:"headerHeading",title:"Header",description:"",type:"heading",default:null},{key:"headerVariant",title:"",description:"Choose app header variant:",type:"enum",enumPicker:"radio",enumChoices:["Wide","Standard"],default:"Wide"},{key:"navigationPosition",title:"",description:"Choose navigation arrows position:",type:"enum",enumPicker:"radio",enumChoices:["Left","Standard"],default:"Left"},{key:"searchStyle",title:"",description:"Choose search style:",type:"enum",enumPicker:"radio",enumChoices:["Wide","Standard"],default:"Awesome"},{key:"hideHomeButton",title:"",description:'Hide "Home" button on header?',type:"boolean",default:!0},{key:"leftSidebarHeading",title:"Left sidebar",description:"",type:"heading",default:null},{key:"vaultButtonToBottom",title:"",description:"Move vaults list to bottom of left sidebar?",type:"boolean",default:!1},{key:"compactSidebarMenu",title:"",description:"Compact menu (horizontal, no labels) on left sidebar?",type:"boolean",default:!1},{key:"menuCalendar",title:"",description:'Show "Calendar" page link on left menu? (can be integrated with "Agenda" plugin, see README!)',type:"boolean",default:!0},{key:"hideSidebarPageIcons",title:"",description:"Hide default page icons on left sidebar favs/recent?",type:"boolean",default:!1},{key:"hideAddNewPage",title:"",description:'Hide "New Page" button on bottom of left sidebar?',type:"boolean",default:!0},{key:"rightSidebarHeading",title:"Right sidebar",description:"",type:"heading",default:null},{key:"hideRightSidebarToolbar",title:"",description:'Hide toolbar on right sidebar? (Only for "Wide header" mode)',type:"boolean",default:!1},{key:"contentHeading",title:"Content",description:"",type:"heading",default:null},{key:"alwaysShowNewBlockBullet",title:"",description:"Always (not just on hover) show add block bullet on page bottom?",type:"boolean",default:!1},{key:"otherHeading",title:"Other",description:"",type:"heading",default:null},{key:"killAnimations",title:"",description:"Disable ALL transitions and animations",type:"boolean",default:!0}];const wa=()=>{logseq.useSettingsSchema(ya),se.pluginConfig=logseq.settings,logseq.onSettingsChanged((x,D)=>{_a(x,D)})},_a=(x,D)=>{se.pluginConfig={...x};const ie=Xi({...D},se.pluginConfig);ie.length&&(ie.includes("tabsPosition")&&ro(),ie.includes("tabsStyle")&&lo(),ie.includes("headerVariant")&&(eo(),mr()),ie.includes("navigationPosition")&&oo(),ie.includes("searchStyle")&&to(),ie.includes("menuCalendar")&&Yr(),ie.includes("compactSidebarMenu")&&uo(),ie.includes("hideRightSidebarToolbar")&&mr(),ie.includes("vaultButtonToBottom")&&fo(),ie.includes("killAnimations")&&mo(),Xr())};const xa=async()=>{console.log("AwesomeUi: plugin loaded"),wa(),ha()};logseq.ready(xa).catch(null);
//# sourceMappingURL=awesomeUi-2379793d.js.map
