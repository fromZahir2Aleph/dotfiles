import"./logseq.61f3ee3b.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();const g="v2",c={keyBindings:{1:"ctrl+1",2:"ctrl+2",3:"ctrl+3",4:"ctrl+4",5:"ctrl+5",6:"ctrl+6",7:"ctrl+7",0:"ctrl+0"},tasks:["TODO","DOING","DONE","LATER","NOW","WAITING","CANCELLED"],settingsVersion:g,disabled:!1},u=()=>{let s=logseq.settings;(!s||s.settingsVersion!=c.settingsVersion)&&(s=c,logseq.updateSettings(s))},a=(s,n=void 0)=>{let r=logseq.settings;const o=Object.assign(c,r);return s?o[s]?o[s]:n:o};async function d(){u();const s=a("keyBindings",{}),n=a("tasks",[]);async function r(o){if(n.length<o)return;const t=await logseq.Editor.getSelectedBlocks();if(t&&t?.length>1){for(let e of t)if(e?.uuid){const i=new RegExp(`^${n.join("|")}`,"gm");let l=i.test(e.content)?e.content.replace(i,"").trimStart():e.content;o>0?await logseq.Editor.updateBlock(e.uuid,n[o-1]+" "+l):await logseq.Editor.updateBlock(e.uuid,l)}}else{const e=await logseq.Editor.getCurrentBlock();if(e?.uuid){const i=new RegExp(`^${n.join("|")}`,"gm");let l=i.test(e.content)?e.content.replace(i,"").trimStart():e.content;o>0?await logseq.Editor.updateBlock(e.uuid,n[o-1]+" "+l):await logseq.Editor.updateBlock(e.uuid,l)}}}for(let o of[...new Array(n.length+1).keys()])logseq.App.registerCommandPalette({key:`task-management-shortcuts-task-${o}`,label:`Set block to task ${o}`,keybinding:{mode:"global",binding:s[o]||"ctrl+"+o}},async()=>{await r(o)})}logseq.ready(d).catch(console.error);
